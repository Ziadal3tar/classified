<section class="col-8 mx-auto">
  <div class="header center-between row m-0 mb-5">
    <p class=" col-12 col-md-4">
      الإعلانات <br>الشائعة والمميزة
    </p>
    <div class=" rounded-3 btn-box col-12 col-sm-9 col-md-7 col-lg-6 col-xl-4  center-between">
      <button class="btn mx-2 my-3 fs-5" (click)="featured()"
        [ngClass]="{'active': activeBtn === 'featured'}">
        الإعلانات المميزة
      </button>
      <button class="btn mx-2 my-3 fs-5" (click)="activeBtn = 'popular'"
        [ngClass]="{'active': activeBtn === 'popular'}">
        الإعلانات الشائعة
      </button>
    </div>
  </div>
  <div class="adss row m-0">
    <div class="ads col-12  col-md-6 col-lg-4 col-xl-3  center-center flex-column " [ngClass]="{'hide': hide}" *ngFor="let item of ads" [ngClass]="{'d-none': activeBtn  == 'featured' && item.rating <=3.5}">
      <div class="box " dir="ltr">
        <div class="img position-relative">
          <img loading="lazy" src="{{item.images[0]}}" alt="">
          <div class="rate position-absolute top-0 end-0 rounded-1 bg-color-2 m-2 boxShadow"><h5 class="px-2 color-3">{{item.rating}}/5</h5></div>
          <div *ngIf="item.rating >=3.5" class="rate position-absolute top-0 start-0 rounded-1 bg-color-3 m-2 boxShadow"><h5 class="px-2 color-2">مميزة</h5></div>
        </div>
        <div class="details">
          <div class="line1 center-between">
            <p>{{item.category}}</p>
            <i class="bi bi-heart"></i>
          </div>
          <div class="line2">
            <p class="title">{{item.title}}</p>
            <p class="address"><i class="bi bi-geo-alt-fill"></i>Cairo, EGY</p>
          </div>
          <div class="line3 center-between">
            <p class="price">{{item.price}}</p>
            <p class="date">{{item.meta.createdAt | date: 'short'}}</p>
          </div>
        </div>
      </div>
    </div>

  </div>
  <nav aria-label="Page navigation example" class="my-5" dir="ltr">
    <ul class="pagination justify-content-center">
      <li class="page-item " (click)="prev()" [ngClass]="{'disabled': pageActive == 1}">
        <a class="page-link">السابق</a>
      </li>
      <li class="page-item active" *ngFor="let item of pages let i = index" [ngClass]="{'active': i+1 == pageActive,'d-none':  i+1 - pageActive >=3 || pageActive - i-1 >=3 }" (click)="getPage(i+1)"><a  class="page-link">{{i+1}}</a></li>

      <li class="page-item" (click)="next()" [ngClass]="{'disabled': pageActive == pages.length}">
        <a class="page-link">التالي</a>
      </li>
    </ul>
  </nav>
</section>
